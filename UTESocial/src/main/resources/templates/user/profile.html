<!DOCTYPE html>
<html lang="vi" data-bs-theme="dark" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang c√° nh√¢n - AloUTE</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        /* CSS ƒë∆∞·ª£c ƒë·ªìng b·ªô t·ª´ c√°c trang tr∆∞·ªõc */
        body {
            background-color: #0f172a; 
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
        .card {
            background-color: #1e293b;
            border: 1px solid #334155;
        }
        .navbar {
            background-color: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #334155;
        }
        aside .nav-link {
            color: #adb5bd;
        }
        aside .nav-link:hover {
            background-color: #334155;
            color: #fff;
        }
        aside .nav-link.active {
            background-color: #334155;
            color: #fff;
        }
        .navbar-nav .nav-link.active {
            color: #fff !important;
        }
        .profile-header {
            position: relative;
        }
        .profile-cover {
            height: 250px;
            object-fit: cover;
            width: 100%;
        }
        .profile-avatar {
            width: 150px;
            height: 150px;
            border: 5px solid #1e293b;
            position: absolute;
            bottom: -75px;
            left: 2rem;
        }
		/* ===== Horizontal Scroll Gallery ===== */
		.attachment-scroll {
		    display: flex;
		    gap: 1rem;
		    overflow-x: auto;
		    scroll-snap-type: x mandatory;
		    padding-bottom: 10px;
		}
		
		.attachment-scroll::-webkit-scrollbar {
		    height: 8px;
		}
		
		.attachment-scroll::-webkit-scrollbar-thumb {
		    background: #475569;
		    border-radius: 4px;
		}
		
		.attachment-scroll::-webkit-scrollbar-track {
		    background: transparent;
		}
		
		/* M·ªói file ƒë√≠nh k√®m l√† 1 "slide" */
		.attachment-item {
		    flex: 0 0 auto;
		    scroll-snap-align: start;
		    border-radius: 12px;
		    background-color: #1e293b;
		    border: 1px solid #334155;
		    overflow: hidden;
		    box-shadow: 0 0 8px rgba(30, 41, 59, 0.5);
		    transition: transform 0.2s ease-in-out;
		}
		
		.attachment-item:hover {
		    transform: scale(1.03);
		}
		
		.attachment-item img,
		.attachment-item video {
		    max-width: 400px;
		    height: auto;
		    display: block;
		    object-fit: cover;
		    border-radius: 12px;
		}
		
		/* File ƒë√≠nh k√®m kh√¥ng ph·∫£i ·∫£nh/video */
		.attachment-file {
		    display: flex;
		    align-items: center;
		    justify-content: center;
		    gap: 10px;
		    width: 380px;
		    padding: 1rem;
		    background: rgba(148, 163, 184, 0.1);
		    color: #e2e8f0;
		    font-weight: 500;
		    text-decoration: none;
		    border-radius: 12px;
		    transition: background 0.3s ease;
		}
		
		.attachment-file:hover {
		    background: rgba(148, 163, 184, 0.2);
		    color: #fff;
		}
.user-link {
  text-decoration: none;    /* ‚ùå b·ªè g·∫°ch d∆∞·ªõi */
  color: #adb5bd;           /* üé® m√†u x√°m nh·∫°t */
}

.user-link:hover {
  color: #ffffff;           /* ‚ú® ƒë·ªïi m√†u khi r√™ chu·ªôt n·∫øu mu·ªën */
  text-decoration: underline; /* ho·∫∑c b·ªè underline lu√¥n */
}
    </style>
</head>
<body class="text-light">

    <nav class="navbar sticky-top">
        <div class="container-xl">
            <a class="navbar-brand fw-bold fs-4 d-flex align-items-center" th:href="@{/home}">
                <svg class="bi me-2" width="32" height="32" fill="#0ea5e9"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v11.494m-9-5.747h18" stroke="currentColor"></path></svg>
                AloUTE
            </a>
            
            <ul class="navbar-nav flex-row gap-4 position-absolute start-50 translate-middle-x">
            </ul>
        </div>
    </nav>

    <div class="container-xl mt-4">
        <div class="row g-4">
            <div class="col-lg-3 d-none d-lg-block">
				<aside class="sticky-top" style="top: 80px;">
				    <ul class="nav flex-column gap-1">
						<li class="nav-item">
				            <a class="nav-link rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" href="/home">
				                <i class="bi bi-house-door-fill fs-3"></i>
				                <span>Trang ch·ªß</span>
				            </a>
				        </li>
				        <li class="nav-item">
				            <a class="nav-link rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" href="/upload">
				                <i class="bi bi-upload fs-3"></i>
				                <span>ƒêƒÉng t·∫£i</span>
				            </a>
				        </li>
				        <li class="nav-item">
				            <a class="nav-link rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" href="/search">
				                <i class="bi bi-search fs-3"></i>
				                <span>T√¨m ki·∫øm</span>
				            </a>
				        </li>
				        <li class="nav-item">
				            <a class="nav-link rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" href="/friend">
				                <i class="bi bi-people fs-3"></i>
				                <span>B·∫°n b√®</span>
				            </a>
				        </li>
				        <li class="nav-item">
						  <a id="nav-group" class="nav-link rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" href="#">
						      <i class="bi bi-globe2 fs-3"></i>
						      <span>Nh√≥m</span>
						  </a>
						</li>				       
				        <li class="nav-item">
				            <a class="nav-link rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" href="#">
				                <i class="bi bi-envelope fs-3"></i>
				                <span>Tin nh·∫Øn</span>
				            </a>
				        </li>
				        <li class="nav-item">
				            <a class="nav-link rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" href="#">
				                <i class="bi bi-bell fs-3"></i>
				                <span>Th√¥ng b√°o</span>
				            </a>
				        </li>
				        <li class="nav-item" th:if="${isOwner}">
				            <a class="nav-link active rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" 
   																		th:href="@{/{username}(username=${user.nameUser})}">
				                <i class="bi bi-person-circle fs-3"></i>
				                <span>C√° nh√¢n</span>
				            </a>
				        </li>
				     	<li class="nav-item" th:if="${!isOwner}">
				            <a class="nav-link rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" 
   																		th:href="@{/{username}(username=${user.nameUser})}">
				                <i class="bi bi-person-circle fs-3"></i>
				                <span>C√° nh√¢n</span>
				            </a>
				        </li>
				        <li class="nav-item">
				            <a class="nav-link rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" href="#">
				                <i class="bi bi-gear fs-3"></i>
				                <span>C√†i ƒë·∫∑t</span>
				            </a>
				        </li>
				        <li class="nav-item mt-2">
				            <a class="nav-link text-danger rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" href="/logout">
				                <i class="bi bi-box-arrow-right fs-3"></i>
				                <span>ƒêƒÉng xu·∫•t</span>
				            </a>
				        </li>
				    </ul>
				</aside>

            </div>
            
            <div class="col-lg-9">
                <main>
                    <div class="card rounded-4 overflow-hidden">
                        <!-- Header trang c√° nh√¢n -->
                        <div class="profile-header">
                            <img th:src="${info.backgroundUrl}"  alt="·∫¢nh b√¨a" class="profile-cover">
                            <img th:src="${info.avatarUrl}" alt="Avatar" class="rounded-circle profile-avatar">
                        </div>

                        <!-- Th√¥ng tin v√† n√∫t h√†nh ƒë·ªông -->
                        <div class="p-4" style="margin-top: 75px;">
                            <div class="d-flex justify-content-end" th:if="${isOwner}">
                                <button class="btn btn-outline-light rounded-pill">Ch·ªânh s·ª≠a trang c√° nh√¢n</button>
                            </div>
							 <div class="d-flex justify-content-end gap-2" th:if="${!isOwner}">
							    <!-- K·∫øt b·∫°n -->
							    <form action="/friend/pending" method="post">
								    <input type="hidden" name="friendId" th:value="${info.userId}">								    
								    <button type="submit" th:if="${!isFriend && !isPending && !isBeRequest}" class="btn btn-primary rounded-pill">
								        <i class="bi bi-person-plus-fill me-1"></i>
								        K·∫øt b·∫°n
								    </button>
								</form>
							    <!-- Ch·∫•p nh·∫≠n / T·ª´ ch·ªëi l·ªùi m·ªùi -->
							    <form action="/friend/accept" method="post">
							    	<input type="hidden" name="friendId" th:value="${info.userId}">		
								    <button th:if="${isBeRequest}" class="btn btn-success rounded-pill">
								        <i class="bi bi-check-circle me-1"></i>
								        Ch·∫•p nh·∫≠n
								    </button>
								</form>
								<form action="/friend/deny" method="post">
									<input type="hidden" name="friendId" th:value="${info.userId}">	
								    <button th:if="${isBeRequest}" class="btn btn-danger rounded-pill">
								        <i class="bi bi-x-circle me-1"></i>
								        T·ª´ ch·ªëi
								    </button>
								</form>
							    <!-- H·ªßy k·∫øt b·∫°n -->
							    <button th:if="${isFriend}" class="btn btn-outline-danger rounded-pill" data-bs-toggle="modal" data-bs-target="#unfriendModal" th:attr="data-friend-id=${info.userId}, data-friend-name=${info.fullName}">
							        <i class="bi bi-person-dash-fill me-1"></i>
							        H·ªßy k·∫øt b·∫°n
							    </button>
							
							    <!-- H·ªßy l·ªùi m·ªùi -->
							    <form action="/friend/deny" method="post">
								    <input type="hidden" name="friendId" th:value="${info.userId}">	
								    <button th:if="${isPending}" class="btn btn-outline-primary rounded-pill">
								        <i class="bi bi-x-circle me-1"></i>
								        H·ªßy l·ªùi m·ªùi
								    </button>
								</form>
							    <!-- Nh·∫Øn tin -->
							    <button class="btn btn-outline-light rounded-pill">
							        <i class="bi bi-chat-dots-fill me-1"></i>
							        Nh·∫Øn tin
							    </button>
							
							    <!-- B√°o c√°o -->
							    <button th:if="${!isFriend && !isPending}" 
							            class="btn btn-outline-danger rounded-pill" 
							            data-bs-toggle="modal" 
							            data-bs-target="#reportUserModal">
							        <i class="bi bi-flag-fill me-1"></i>
							        B√°o c√°o
							    </button>
							
							    <!-- Ch·∫∑n -->
							    <button th:if="${!isFriend && !isPending}" 
							            class="btn btn-danger rounded-pill" 
							            data-bs-toggle="modal" 
							            data-bs-target="#blockUserModal">
							        <i class="bi bi-slash-circle me-1"></i>
							        Ch·∫∑n
							    </button>
							</div>

                            <h3 class="fw-bold mb-0" th:text="${info.fullName}"></h3>
                            <p class="text-muted" th:text="${info.nameUser}"></p>
                            <p th:text="${info.introduce}">Hahaha</p>
                            <div class="d-flex gap-4 text-muted small">
                                <span><i class="bi bi-geo-alt" th:text="${info.location}"></i></span>
                                <span>
								  <i class="bi bi-calendar3"></i>
								  <span th:text="'ƒê√£ tham gia ' + ${#temporals.format(info.createdAt, 'MMMM yyyy')}"></span>
								</span>
                            </div>
                        </div>

                        <!-- Tabs ƒëi·ªÅu h∆∞·ªõng -->
                        <ul class="nav nav-pills nav-fill border-top border-secondary">
                          <li class="nav-item">
                            <a class="nav-link active rounded-0" data-bs-toggle="tab" href="#posts">B√†i vi·∫øt</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link rounded-0" data-bs-toggle="tab" href="#about">Gi·ªõi thi·ªáu</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link rounded-0" data-bs-toggle="tab" href="#all-friends">B·∫°n b√®</a>
                          </li>                               
                          <li class="nav-item">
                            <a class="nav-link rounded-0" data-bs-toggle="tab" href="#reposts">ƒêƒÉng l·∫°i</a>
                          </li>                     
                        </ul>
                    </div>

                    <!-- N·ªôi dung c√°c tab -->
                    <div class="tab-content mt-4">
                        <!-- Tab b√†i vi·∫øt -->
						<div class="tab-pane fade show active" id="posts">
							<div th:each="post : ${posts}"						
								class="card rounded-4 overflow-hidden mb-4">
								<!-- Modal b√°o c√°o b√†i vi·∫øt -->
								<div class="modal fade" th:id="'reportPostModal__' + ${post.postId}" tabindex="-1" aria-labelledby="reportPostLabel" aria-hidden="true">
								  <div class="modal-dialog modal-dialog-centered">
								    <div class="modal-content bg-dark text-light">
								      <div class="modal-header border-secondary">
								        <h5 class="modal-title" id="reportPostLabel">B√°o c√°o b√†i vi·∫øt</h5>
								        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
								      </div>
								      <div class="modal-body">
								        <form method="post" th:action="@{/report-post}">
								          <input type="hidden" name="postId" th:value="${post.postId}">
								          <div class="mb-3">
								            <label for="reason" class="form-label">L√Ω do b√°o c√°o</label>
								            <textarea name="reason" class="form-control bg-dark text-light border-secondary" rows="4" placeholder="Nh·∫≠p l√Ω do..."></textarea>
								          </div>
								          <div class="d-flex justify-content-end">
								            <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">H·ªßy</button>
								            <button type="submit" class="btn btn-danger">G·ª≠i b√°o c√°o</button>
								          </div>
								        </form>
								      </div>
								    </div>
								  </div>
								</div>
																
								<div class="card-body">
									<div class="d-flex align-items-center gap-3 mb-3">
										<img class="rounded-circle" th:src="${post.user.avatarUrl}"
											alt="Avatar" width="48" height="48">

										<div>
											<p class="fw-bold mb-0" th:text="${post.user.fullName}">T√™n
												ng∆∞·ªùi d√πng</p>
											<p class="fw mb-0" th:text="${post.user.nameUser}"></p>
											<p class="text-muted small mb-0">
												<span
													th:text="${#temporals.format(post.createdAt, 'dd/MM/yyyy HH:mm')}"></span>
											</p>
											
										</div>
									</div>
									<p th:text="${post.content}"></p>
									<!-- Th∆∞ vi·ªán ·∫£nh/video d·∫°ng thanh tr∆∞·ª£t -->
									<div
										th:if="${post.attachments != null and !post.attachments.isEmpty()}"
										class="attachment-scroll mt-3">

										<div th:each="att : ${post.attachments}"
											class="attachment-item text-center">

											<!-- N·∫øu l√† ·∫£nh -->
											<img th:if="${att.fileType.startsWith('image')}"
												th:src="${att.fileUrl}" alt="·∫¢nh ƒë√≠nh k√®m">

											<!-- N·∫øu l√† video -->
											<video th:if="${att.fileType.startsWith('video')}"
												th:src="${att.fileUrl}" controls class="rounded-3">
											</video>

											<!-- N·∫øu l√† file kh√°c -->
											<a
												th:if="${!att.fileType.startsWith('image') and !att.fileType.startsWith('video')}"
												th:href="${att.fileUrl}" class="attachment-file"
												target="_blank"> <i class="bi bi-paperclip"></i> <span
												th:text="${#strings.substring(att.fileUrl, att.fileUrl.lastIndexOf('/') + 1)}"></span>
											</a>
										</div>
									</div>
								</div>
								<div
									class="card-body d-flex justify-content-between post-actions">
									<button class="btn text-muted d-flex align-items-center gap-2">
										<i class="bi bi-chat"></i> <span
											th:text="${post.commentsCount}">0</span>
									</button>
									<button class="btn text-muted d-flex align-items-center gap-2">
										<i class="bi bi-repeat"></i> <span
											th:text="${post.shareCount}">0</span>
									</button>
									<button class="btn text-muted d-flex align-items-center gap-2">
										<i class="bi bi-heart"></i> <span th:text="${post.likesCount}">0</span>
									</button>
									<button class="btn text-muted d-flex align-items-center gap-2">
										<i class="bi bi-upload"></i>
									</button>
									<button th:if="${post.user.userId != user.userId}" class="btn text-muted d-flex align-items-center gap-2" data-bs-toggle="modal" th:attr="data-bs-target='#reportPostModal__' + ${post.postId}">
								        <i class="bi bi-flag"></i>
								    </button>
								</div>
							</div>

						</div>
						<!-- Tab gi·ªõi thi·ªáu -->
                        <div class="tab-pane fade" id="about">
                            <div class="card rounded-4">
                                <div class="card-body p-4">
                                    <h5 class="card-title mb-3">Th√¥ng tin chi ti·∫øt</h5>
                                    <ul class="list-group list-group-flush">
	                                    <li class="list-group-item bg-transparent d-flex justify-content-between ps-0">
										    <strong>H·ªç v√† t√™n:</strong> 
										    <span th:text="${info.fullName}"></span>
										</li>
	
										<!-- Ng√†y sinh -->
										<li class="list-group-item bg-transparent d-flex justify-content-between ps-0">
										    <strong>Ng√†y sinh:</strong>
										    <span th:text="${#temporals.format(info.birthday, 'dd/MM/yyyy')}">01/01/2000</span>
										</li>
										
										<!-- Gi·ªõi t√≠nh -->
										<li class="list-group-item bg-transparent d-flex justify-content-between ps-0">
										    <strong>Gi·ªõi t√≠nh:</strong>
										    <span th:text="${info.gender}">Nam</span>
										</li>
										
										<!-- ƒê·∫øn t·ª´ -->
										<li class="list-group-item bg-transparent d-flex justify-content-between ps-0">
										    <strong>ƒê·∫øn t·ª´:</strong>
										    <span th:text="${info.location}">TP. H·ªì Ch√≠ Minh</span>
										</li>

                                    </ul>
                                </div>
                            </div>
                        </div>
						<!-- Tab b·∫°n b√®-->
						<div class="tab-pane fade" id="all-friends">
							<div class="d-flex flex-column gap-3">
								<div th:each="friend : ${friends}"
									class="card rounded-4 overflow-hidden mb-4">
									<div
										class="d-flex justify-content-between align-items-center p-3 rounded-3 friend-item">
										<div class="d-flex align-items-center gap-3">
											<img th:src="${friend.avatarUrl}" class="rounded-circle"
												alt="Avatar" width="48" height="48">
											<div>
												<h6 th:if="${!(user.nameUser==friend.nameUser)}" th:text="${friend.fullName}" class="mb-0 fw-bold"></h6>
												<h6 th:if="${(user.nameUser==friend.nameUser)}" class="mb-0 fw-bold">B·∫°n</h6>
												<a class="fw mb-0 user-link" th:text="${friend.nameUser}"
													th:href="@{/{username}(username=${friend.nameUser})}"></a>
											</div>
										</div>

									</div>
								</div>
							</div>
						</div>
					</div>

                </main>
            </div>
        </div>
    </div>
<!-- Modal b√°o c√°o -->
<div class="modal fade" id="reportUserModal" tabindex="-1" aria-labelledby="reportUserLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-dark text-light">
      <div class="modal-header border-secondary">
        <h5 class="modal-title" id="reportUserLabel">B√°o c√°o ng∆∞·ªùi d√πng</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
      </div>
      <div class="modal-body">
        <form id="reportUserForm" method="post" th:action="@{/report-user}">
          <input type="hidden" name="username" th:value="${info.nameUser}">
          <div class="mb-3">
            <label for="reason" class="form-label">L√Ω do b√°o c√°o</label>
            <textarea id="reason" name="reason" class="form-control bg-dark text-light border-secondary" rows="4" placeholder="Nh·∫≠p l√Ω do..."></textarea>
          </div>
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">H·ªßy</button>
            <button type="submit" class="btn btn-danger">G·ª≠i b√°o c√°o</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- Modal ch·∫∑n -->
<div class="modal fade" id="blockUserModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
    	<form>
	      <div class="modal-header">
	        <h5 class="modal-title text-danger">X√°c nh·∫≠n ch·∫∑n ng∆∞·ªùi d√πng</h5>
	        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
	      </div>
	      <div class="modal-body">
	        Sau khi ch·∫∑n, b·∫°n v√† ng∆∞·ªùi n√†y s·∫Ω kh√¥ng th·ªÉ xem trang c√° nh√¢n, g·ª≠i tin nh·∫Øn ho·∫∑c k·∫øt b·∫°n v·ªõi nhau.
	        <br><br>
	        B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën <strong>ch·∫∑n ng∆∞·ªùi n√†y</strong>?
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">H·ªßy</button>
	        <button type="button" class="btn btn-danger rounded-pill" id="confirmBlockBtn">
	          <i class="bi bi-slash-circle me-1"></i> X√°c nh·∫≠n ch·∫∑n
	        </button>
	      </div>
    	</form>
    </div>
  </div>
</div>
<div class="modal fade" id="unfriendModal" tabindex="-1" aria-labelledby="unfriendModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4">
    	<form action="/friend/unfriend" method="post">
	      <div class="modal-header border-0">
	        <h5 class="modal-title fw-bold" id="unfriendModalLabel">X√°c nh·∫≠n h·ªßy k·∫øt b·∫°n</h5>
	        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	      </div>
	      <div class="modal-body text-center">
	        <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën h·ªßy k·∫øt b·∫°n v·ªõi <strong id="friendNameModal"></strong> kh√¥ng?</p>
	      </div>
	      <div class="modal-footer border-0 d-flex justify-content-center">
	        <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">H·ªßy</button>
		    <input type="hidden" name="friendId" th:value="${info.userId}">
		    <input type="hidden" name="username" th:value="${info.nameUser}">	        
	        <button type="submit" class="btn btn-danger rounded-pill" id="confirmUnfriendBtn">H·ªßy k·∫øt b·∫°n</button>
	      </div>
    	</form>
    </div>
  </div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script>
       
        document.addEventListener('DOMContentLoaded', () => 
        {
            const homeLink = document.getElementById('home-link');
            const policyLink = document.getElementById('policy-link');
            const homeSidebarButton = document.getElementById('home-sidebar-button');

            const homeContent = document.getElementById('home-content');
            const policyContent = document.getElementById('policy-content');

            function showHome() {
                homeContent.classList.remove('d-none');
                policyContent.classList.add('d-none');
                
                homeLink.classList.add('active');
                policyLink.classList.remove('active');
            }

            function showPolicy() {
                homeContent.classList.add('d-none');
                policyContent.classList.remove('d-none');

                homeLink.classList.remove('active');
                policyLink.classList.add('active');
            }

            homeLink.addEventListener('click', (e) => {
                e.preventDefault();
                showHome();
            });
            
            homeSidebarButton.addEventListener('click', (e) => {
                e.preventDefault();
                showHome();
            });

            policyLink.addEventListener('click', (e) => {
                e.preventDefault();
                showPolicy();
            });
        });
    </script>

<script>
document.addEventListener("click", e => {
  const img = e.target.closest(".attachment-card img");
  if (!img) return;
  
  const overlay = document.createElement("div");
  overlay.style = `
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.85);
    display: flex; align-items: center; justify-content: center;
    z-index: 9999;
  `;
  const fullImg = document.createElement("img");
  fullImg.src = img.src;
  fullImg.style = "max-width: 90%; max-height: 90%; border-radius: 8px;";

  overlay.appendChild(fullImg);
  document.body.appendChild(overlay);

  overlay.addEventListener("click", () => overlay.remove());
});
</script>
<script>
function scrollGallery(btn, direction) {
  const container = btn.parentElement.querySelector(".attachment-scroll");
  container.scrollBy({
    left: direction * 400,
    behavior: "smooth"
  });
}
</script>

</body>
</html>
