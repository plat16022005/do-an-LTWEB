<!DOCTYPE html>
<html lang="vi" data-bs-theme="dark" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kh√°m Ph√° - AloUTE</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        /* CSS ƒë√£ ƒë∆∞·ª£c ƒë·ªìng b·ªô h√≥a t·ª´ trang upload.html */
        body {
            background-color: #0f172a; 
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
        .card {
            background-color: #1e293b;
            border: 1px solid #334155;
        }
        .navbar {
            background-color: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #334155;
        }
        /* CSS cho sidebar (quan tr·ªçng) */
        aside .nav-link {
            color: #adb5bd;
        }
        aside .nav-link:hover {
            background-color: #334155;
            color: #fff;
        }
        aside .nav-link.active {
            background-color: #334155;
            color: #fff;
        }
        /* CSS cho c√°c th√†nh ph·∫ßn kh√°c */
        .navbar-nav .nav-link.active {
            color: #fff !important;
        }
        .post-actions .btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        /* --- Hi·ªÉn th·ªã file ƒë√≠nh k√®m --- */
		/* ===== Horizontal Scroll Gallery ===== */
		.attachment-scroll {
		    display: flex;
		    gap: 1rem;
		    overflow-x: auto;
		    scroll-snap-type: x mandatory;
		    padding-bottom: 10px;
		}
		
		.attachment-scroll::-webkit-scrollbar {
		    height: 8px;
		}
		
		.attachment-scroll::-webkit-scrollbar-thumb {
		    background: #475569;
		    border-radius: 4px;
		}
		
		.attachment-scroll::-webkit-scrollbar-track {
		    background: transparent;
		}
		
		/* M·ªói file ƒë√≠nh k√®m l√† 1 "slide" */
		.attachment-item {
		    flex: 0 0 auto;
		    scroll-snap-align: start;
		    border-radius: 12px;
		    background-color: #1e293b;
		    border: 1px solid #334155;
		    overflow: hidden;
		    box-shadow: 0 0 8px rgba(30, 41, 59, 0.5);
		    transition: transform 0.2s ease-in-out;
		}
		
		.attachment-item:hover {
		    transform: scale(1.03);
		}
		
		.attachment-item img,
		.attachment-item video {
		    max-width: 400px;
		    height: auto;
		    display: block;
		    object-fit: cover;
		    border-radius: 12px;
		}
		
		/* File ƒë√≠nh k√®m kh√¥ng ph·∫£i ·∫£nh/video */
		.attachment-file {
		    display: flex;
		    align-items: center;
		    justify-content: center;
		    gap: 10px;
		    width: 380px;
		    padding: 1rem;
		    background: rgba(148, 163, 184, 0.1);
		    color: #e2e8f0;
		    font-weight: 500;
		    text-decoration: none;
		    border-radius: 12px;
		    transition: background 0.3s ease;
		}
		
		.attachment-file:hover {
		    background: rgba(148, 163, 184, 0.2);
		    color: #fff;
		}
.user-link {
  text-decoration: none;    /* ‚ùå b·ªè g·∫°ch d∆∞·ªõi */
  color: #adb5bd;           /* üé® m√†u x√°m nh·∫°t */
}

.user-link:hover {
  color: #ffffff;           /* ‚ú® ƒë·ªïi m√†u khi r√™ chu·ªôt n·∫øu mu·ªën */
  text-decoration: underline; /* ho·∫∑c b·ªè underline lu√¥n */
}
    </style>
</head>
<body class="text-light">

    <nav class="navbar sticky-top">
        <div class="container-xl">
            <a class="navbar-brand fw-bold fs-4 d-flex align-items-center">
                <svg class="bi me-2" width="32" height="32" fill="#0ea5e9"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v11.494m-9-5.747h18" stroke="currentColor"></path></svg>
				AloUTE 
			</a>

            <ul class="navbar-nav flex-row gap-4 position-absolute start-50 translate-middle-x">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#" id="home-link">Trang ch·ªß</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" id="policy-link">Ch√≠nh s√°ch</a>
                </li>
            </ul>

            <a th:href="@{/login}" class="btn btn-primary rounded-pill">
                ƒêƒÉng nh·∫≠p
            </a>
        </div>
        
    </nav>

    <div class="container-xl mt-4">
        <div class="row g-4">
            <div class="col-lg-3 d-none d-lg-block">
				<aside class="sticky-top" style="top: 80px;">
				    <ul class="nav flex-column gap-1">
						<li class="nav-item">
				            <a id="home-sidebar-button" class="nav-link active bg-dark rounded-pill fs-5 fw-bold d-flex align-items-center gap-3 p-2" href="/home">
				                <i class="bi bi-house-door-fill fs-3"></i>
				                <span>Trang ch·ªß</span>
				            </a> 
						</li>
				    </ul>
				</aside>

            </div>
            
            <div class="col-lg-9">
                <div id="home-content">
					<main class="d-grid gap-3">
					    <div th:each="post : ${posts}" class="card rounded-4 overflow-hidden">
					    
					        <div class="card-body">
					            <div class="d-flex align-items-center gap-3 mb-3">
					                <img class="rounded-circle" th:src="${post.user.avatarUrl}" alt="Avatar" width="48" height="48">

					                <div>
					                    <p class="fw-bold mb-0" th:text="${post.user.fullName}">T√™n ng∆∞·ªùi d√πng</p>
					                    <a class="fw mb-0 user-link" th:text="${post.user.nameUser}"></a>
					                    <p class="text-muted small mb-0">
					                        <span th:text="${#temporals.format(post.createdAt, 'dd/MM/yyyy HH:mm')}"></span>
					                    </p>
					                </div>
					            </div>
					            <p th:text="${post.content}"></p>
								<!-- Th∆∞ vi·ªán ·∫£nh/video d·∫°ng thanh tr∆∞·ª£t -->
								<div th:if="${post.attachments != null and !post.attachments.isEmpty()}" 
								     class="attachment-scroll mt-3">
								     
								    <div th:each="att : ${post.attachments}" class="attachment-item text-center">
								
								        <!-- N·∫øu l√† ·∫£nh -->
								        <img th:if="${att.fileType.startsWith('image')}"
								             th:src="${att.fileUrl}"
								             alt="·∫¢nh ƒë√≠nh k√®m">
								
								        <!-- N·∫øu l√† video -->
								        <video th:if="${att.fileType.startsWith('video')}"
								               th:src="${att.fileUrl}"
								               controls
								               class="rounded-3">
								        </video>
								
								        <!-- N·∫øu l√† file kh√°c -->
								        <a th:if="${!att.fileType.startsWith('image') and !att.fileType.startsWith('video')}"
								           th:href="${att.fileUrl}"
								           class="attachment-file"
								           target="_blank">
								           <i class="bi bi-paperclip"></i>
								           <span th:text="${#strings.substring(att.fileUrl, att.fileUrl.lastIndexOf('/') + 1)}"></span>
								        </a>
								    </div>
								</div>

					        </div>
					
					        <div class="card-body d-flex justify-content-between post-actions">
					            <button class="btn text-muted d-flex align-items-center gap-2">
					                <i class="bi bi-chat"></i> <span th:text="${post.commentsCount}">0</span>
					            </button>
					            <button class="btn text-muted d-flex align-items-center gap-2">
					                <i class="bi bi-repeat"></i> <span th:text="${post.shareCount}">0</span>
					            </button>
					            <button class="btn text-muted d-flex align-items-center gap-2">
					                <i class="bi bi-heart"></i> <span th:text="${post.likesCount}">0</span>
					            </button>
					            <button class="btn text-muted d-flex align-items-center gap-2"><i class="bi bi-upload"></i></button>					            
					        </div>
					    </div>
					</main>
                </div>

                <div id="policy-content" class="d-none">
                    <div class="card rounded-4">
                        <div class="card-body p-4 p-md-5">
                            <h2>Ch√≠nh s√°ch v√† ƒêi·ªÅu kho·∫£n S·ª≠ d·ª•ng</h2>
                            <p class="text-muted">Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi trang web Kh√°m Ph√°. B·∫±ng vi·ªác truy c·∫≠p v√† s·ª≠ d·ª•ng trang web, b·∫°n ƒë·ªìng √Ω tu√¢n th·ªß c√°c ƒëi·ªÅu kho·∫£n v√† ƒëi·ªÅu ki·ªán ƒë∆∞·ª£c n√™u d∆∞·ªõi ƒë√¢y.</p>
                            
                            <h3 class="mt-4">1. Quy·ªÅn s·ªü h·ªØu tr√≠ tu·ªá</h3>
                            <p>T·∫•t c·∫£ n·ªôi dung, h√¨nh ·∫£nh, v√† thi·∫øt k·∫ø tr√™n trang web n√†y thu·ªôc b·∫£n quy·ªÅn c·ªßa ch√∫ng t√¥i (tr·ª´ n·ªôi dung do ng∆∞·ªùi d√πng ƒëƒÉng t·∫£i). M·ªçi h√†nh vi sao ch√©p, ph√¢n ph·ªëi l·∫°i m√† kh√¥ng c√≥ s·ª± cho ph√©p b·∫±ng vƒÉn b·∫£n ƒë·ªÅu b·ªã nghi√™m c·∫•m.</p>

                            <h3 class="mt-4">2. N·ªôi dung ng∆∞·ªùi d√πng</h3>
                            <p>B·∫°n ch·ªãu ho√†n to√†n tr√°ch nhi·ªám v·ªÅ n·ªôi dung b·∫°n ƒëƒÉng t·∫£i. B·∫°n kh√¥ng ƒë∆∞·ª£c ph√©p ƒëƒÉng t·∫£i n·ªôi dung vi ph·∫°m ph√°p lu·∫≠t, c√≥ t√≠nh ch·∫•t x√∫c ph·∫°m, ho·∫∑c vi ph·∫°m b·∫£n quy·ªÅn c·ªßa ng∆∞·ªùi kh√°c. Ch√∫ng t√¥i c√≥ quy·ªÅn x√≥a b·∫•t k·ª≥ n·ªôi dung n√†o vi ph·∫°m m√† kh√¥ng c·∫ßn b√°o tr∆∞·ªõc.</p>

                            <h3 class="mt-4">3. Gi·ªõi h·∫°n tr√°ch nhi·ªám</h3>
                            <p>Ch√∫ng t√¥i kh√¥ng ch·ªãu tr√°ch nhi·ªám cho b·∫•t k·ª≥ thi·ªát h·∫°i n√†o ph√°t sinh t·ª´ vi·ªác s·ª≠ d·ª•ng ho·∫∑c kh√¥ng th·ªÉ s·ª≠ d·ª•ng trang web. N·ªôi dung tr√™n trang web ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o.</p>
                            
                            <p class="mt-4">Ch√∫ng t√¥i c√≥ th·ªÉ thay ƒë·ªïi c√°c ƒëi·ªÅu kho·∫£n n√†y b·∫•t c·ª© l√∫c n√†o. Vui l√≤ng ki·ªÉm tra l·∫°i trang n√†y th∆∞·ªùng xuy√™n ƒë·ªÉ c·∫≠p nh·∫≠t. C·∫£m ∆°n b·∫°n ƒë√£ s·ª≠ d·ª•ng d·ªãch v·ª• c·ªßa ch√∫ng t√¥i!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener("click", e => {
  const img = e.target.closest(".attachment-card img");
  if (!img) return;
  
  const overlay = document.createElement("div");
  overlay.style = `
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.85);
    display: flex; align-items: center; justify-content: center;
    z-index: 9999;
  `;
  const fullImg = document.createElement("img");
  fullImg.src = img.src;
  fullImg.style = "max-width: 90%; max-height: 90%; border-radius: 8px;";

  overlay.appendChild(fullImg);
  document.body.appendChild(overlay);

  overlay.addEventListener("click", () => overlay.remove());
});
</script>
<script>
function scrollGallery(btn, direction) {
  const container = btn.parentElement.querySelector(".attachment-scroll");
  container.scrollBy({
    left: direction * 400,
    behavior: "smooth"
  });
}
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const homeLink = document.getElementById('home-link');
  const policyLink = document.getElementById('policy-link');

  const homeContent = document.getElementById('home-content');
  const policyContent = document.getElementById('policy-content');

  // Khi click n√∫t Trang ch·ªß
  homeLink.addEventListener('click', (e) => {
    e.preventDefault();
    homeContent.classList.remove('d-none');
    policyContent.classList.add('d-none');

    // ƒë·ªïi tr·∫°ng th√°i active
    homeLink.classList.add('active');
    policyLink.classList.remove('active');
  });

  // Khi click n√∫t Ch√≠nh s√°ch
  policyLink.addEventListener('click', (e) => {
    e.preventDefault();
    homeContent.classList.add('d-none');
    policyContent.classList.remove('d-none');

    // ƒë·ªïi tr·∫°ng th√°i active
    policyLink.classList.add('active');
    homeLink.classList.remove('active');
  });
});
</script>
<script th:src="@{/js/theme-toggle.js}"></script>
</body>
</html>